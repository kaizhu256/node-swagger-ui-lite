swagger-ui-lite
===============
this package is a zero-dependency version of the swagger-ui (v2.1.5 client) npm-package with only 3 asset-files

[![travis-ci.org build-status](https://api.travis-ci.org/kaizhu256/node-swagger-ui-lite.svg)](https://travis-ci.org/kaizhu256/node-swagger-ui-lite) [![istanbul-coverage](https://kaizhu256.github.io/node-swagger-ui-lite/build..alpha..travis-ci.org/coverage.badge.svg)](https://kaizhu256.github.io/node-swagger-ui-lite/build..alpha..travis-ci.org/coverage.html/index.html)

[![NPM](https://nodei.co/npm/swagger-ui-lite.png?downloads=true)](https://www.npmjs.com/package/swagger-ui-lite)

[![package-listing](https://kaizhu256.github.io/node-swagger-ui-lite/build/screen-capture.gitLsTree.svg)](https://github.com/kaizhu256/node-swagger-ui-lite)



# cdn download
- [https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/app/assets.swagger_ui.html](https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/app/assets.swagger_ui.html)
- [https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/app/assets.swagger_ui.json](https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/app/assets.swagger_ui.json)
- [https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/app/assets.swagger_ui.rollup.js](https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/app/assets.swagger_ui.rollup.js)



# live demo
- [https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/app/index.html](https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/app/index.html)

[![github.com test-server](https://kaizhu256.github.io/node-swagger-ui-lite/build/screen-capture.deployGithub.browser._2Fnode-swagger-ui-lite_2Fbuild..alpha..travis-ci.org_2Fapp_2Findex.html.png)](https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/app/index.html)



# documentation
#### api-doc
- [https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/api-doc.html](https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/api-doc.html)

[![api-doc](https://kaizhu256.github.io/node-swagger-ui-lite/build/screen-capture.apiDocCreate.browser._2Fhome_2Ftravis_2Fbuild_2Fkaizhu256_2Fnode-swagger-ui-lite_2Ftmp_2Fbuild_2Fapi-doc.html.png)](https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/api-doc.html)

#### todo
- none

#### change since c008beb9
- npm publish 2017.2.2
- fix cdn-download
- none

#### this package requires
- darwin or linux os

#### additional info
- code derived from https://github.com/swagger-api/swagger-ui/tree/v2.1.5/dist/lib



# build status [![travis-ci.org build-status](https://api.travis-ci.org/kaizhu256/node-swagger-ui-lite.svg)](https://travis-ci.org/kaizhu256/node-swagger-ui-lite)
[![build commit status](https://kaizhu256.github.io/node-swagger-ui-lite/build/build.badge.svg)](https://travis-ci.org/kaizhu256/node-swagger-ui-lite)

| git-branch : | [master](https://github.com/kaizhu256/node-swagger-ui-lite/tree/master) | [beta](https://github.com/kaizhu256/node-swagger-ui-lite/tree/beta) | [alpha](https://github.com/kaizhu256/node-swagger-ui-lite/tree/alpha)|
|--:|:--|:--|:--|
| test-server-1 : | [![github.com test-server](https://kaizhu256.github.io/node-swagger-ui-lite/GitHub-Mark-32px.png)](https://kaizhu256.github.io/node-swagger-ui-lite/build..master..travis-ci.org/app/index.html) | [![github.com test-server](https://kaizhu256.github.io/node-swagger-ui-lite/GitHub-Mark-32px.png)](https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/app/index.html) | [![github.com test-server](https://kaizhu256.github.io/node-swagger-ui-lite/GitHub-Mark-32px.png)](https://kaizhu256.github.io/node-swagger-ui-lite/build..alpha..travis-ci.org/app/index.html)|
| test-server-2 : | [![heroku.com test-server](https://kaizhu256.github.io/node-swagger-ui-lite/heroku-logo.75x25.png)](https://h1-swagger-ui-master.herokuapp.com) | [![heroku.com test-server](https://kaizhu256.github.io/node-swagger-ui-lite/heroku-logo.75x25.png)](https://h1-swagger-ui-beta.herokuapp.com) | [![heroku.com test-server](https://kaizhu256.github.io/node-swagger-ui-lite/heroku-logo.75x25.png)](https://h1-swagger-ui-alpha.herokuapp.com)|
| test-report : | [![test-report](https://kaizhu256.github.io/node-swagger-ui-lite/build..master..travis-ci.org/test-report.badge.svg)](https://kaizhu256.github.io/node-swagger-ui-lite/build..master..travis-ci.org/test-report.html) | [![test-report](https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/test-report.badge.svg)](https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/test-report.html) | [![test-report](https://kaizhu256.github.io/node-swagger-ui-lite/build..alpha..travis-ci.org/test-report.badge.svg)](https://kaizhu256.github.io/node-swagger-ui-lite/build..alpha..travis-ci.org/test-report.html)|
| coverage : | [![istanbul-coverage](https://kaizhu256.github.io/node-swagger-ui-lite/build..master..travis-ci.org/coverage.badge.svg)](https://kaizhu256.github.io/node-swagger-ui-lite/build..master..travis-ci.org/coverage.html/index.html) | [![istanbul-coverage](https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/coverage.badge.svg)](https://kaizhu256.github.io/node-swagger-ui-lite/build..beta..travis-ci.org/coverage.html/index.html) | [![istanbul-coverage](https://kaizhu256.github.io/node-swagger-ui-lite/build..alpha..travis-ci.org/coverage.badge.svg)](https://kaizhu256.github.io/node-swagger-ui-lite/build..alpha..travis-ci.org/coverage.html/index.html)|
| build-artifacts : | [![build-artifacts](https://kaizhu256.github.io/node-swagger-ui-lite/glyphicons_144_folder_open.png)](https://github.com/kaizhu256/node-swagger-ui-lite/tree/gh-pages/build..master..travis-ci.org) | [![build-artifacts](https://kaizhu256.github.io/node-swagger-ui-lite/glyphicons_144_folder_open.png)](https://github.com/kaizhu256/node-swagger-ui-lite/tree/gh-pages/build..beta..travis-ci.org) | [![build-artifacts](https://kaizhu256.github.io/node-swagger-ui-lite/glyphicons_144_folder_open.png)](https://github.com/kaizhu256/node-swagger-ui-lite/tree/gh-pages/build..alpha..travis-ci.org)|

#### master branch
- stable branch
- HEAD should be tagged, npm-published package

#### beta branch
- semi-stable branch
- HEAD should be latest, npm-published package

#### alpha branch
- unstable branch
- HEAD is arbitrary
- commit history may be rewritten



# quickstart web example
![screen-capture](https://kaizhu256.github.io/node-swagger-ui-lite/build/screen-capture.testExampleJs.browser..png)

#### to run this example, follow the instruction in the script below
- [example.js](https://kaizhu256.github.io/node-swagger-ui-lite/build/example.js)
```javascript
/*
example.js

this script will demo the swagger-ui client

instruction
    1. save this script as example.js
    2. run the shell command:
        $ npm install swagger-ui-lite && PORT=8081 node example.js
    3. play with the browser-demo on http://127.0.0.1:8081
*/



/*jslint
    bitwise: true,
    browser: true,
    maxerr: 8,
    maxlen: 96,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;



    // run node js-env code - pre-init
    (function () {
        // init local
        try {
            local = require('swagger-ui-lite');
        } catch (errorCaught1) {
            try {
                local = require('.');
            } catch (errorCaught2) {
                local = require('..');
            }
        }
        // init modeJs
        local.modeJs = 'node';
        // init global
        local.global = global;
        // export local
        local.global.local = local;
    }());
    switch (local.modeJs) {



    // run node js-env code - post-init
    case 'node':
        // export local
        module.exports = local;
        // require modules
        local.fs = require('fs');
        local.http = require('http');
        local.url = require('url');
        // init assets
        local.assetsDict = local.assetsDict || {};
        [
            '/assets.swagger_ui.html',
            '/assets.swagger_ui.json',
            '/assets.swagger_ui.rollup.js'
        ].forEach(function (file) {
            local.assetsDict[file] = local.fs.readFileSync(local.__dirname + file, 'utf8');
        });
        local.assetsDict['/'] = local.assetsDict['/assets.index.template.html'] =
            local.assetsDict['/assets.swagger_ui.html'];
        // run the cli
        if (local.global.utility2_rollup || module !== require.main) {
            break;
        }
        local.assetsDict['/assets.example.js'] = local.assetsDict['/assets.example.js'] ||
            local.fs.readFileSync(__filename, 'utf8');
        local.assetsDict['/assets.swagger_ui.rollup.js'] =
            local.assetsDict['/assets.swagger_ui.rollup.js'] || local.fs.readFileSync(
                local.swagger_ui.__dirname + '/lib.swagger_ui.js',
                'utf8'
            ).replace((/^#!/), '//');
        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';
        // if $npm_config_timeout_exit exists,
        // then exit this process after $npm_config_timeout_exit ms
        if (Number(process.env.npm_config_timeout_exit)) {
            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));
        }
        // start server
        if (local.global.utility2_serverHttp1) {
            break;
        }
        process.env.PORT = process.env.PORT || '8081';
        console.log('server starting on port ' + process.env.PORT);
        local.http.createServer(function (request, response) {
            request.urlParsed = local.url.parse(request.url);
            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {
                response.end(local.assetsDict[request.urlParsed.pathname]);
                return;
            }
            response.statusCode = 404;
            response.end();
        }).listen(process.env.PORT);
        break;
    }
}());
```

#### output from electron
![screen-capture](https://kaizhu256.github.io/node-swagger-ui-lite/build/screen-capture.testExampleJs.browser..png)

#### output from shell
![screen-capture](https://kaizhu256.github.io/node-swagger-ui-lite/build/screen-capture.testExampleJs.svg)



# package.json
```json
{
    "author": "kai zhu <kaizhu256@gmail.com>",
    "description": "this package is a zero-dependency version of the swagger-ui (v2.1.5 client) npm-package with only 3 asset-files",
    "devDependencies": {
        "electron-lite": "kaizhu256/node-electron-lite#alpha",
        "utility2": "kaizhu256/node-utility2#alpha"
    },
    "engines": {
        "node": ">=4.0"
    },
    "homepage": "https://github.com/kaizhu256/node-swagger-ui-lite",
    "keywords": [
        "browser",
        "swagger",
        "swagger-api",
        "swagger-client",
        "swagger-ui"
    ],
    "license": "MIT",
    "main": "lib.swagger_ui.js",
    "name": "swagger-ui-lite",
    "nameAlias": "swagger_ui",
    "os": [
        "darwin",
        "linux"
    ],
    "repository": {
        "type": "git",
        "url": "https://github.com/kaizhu256/node-swagger-ui-lite.git"
    },
    "scripts": {
        "build-ci": "utility2 shRun shReadmeBuild",
        "heroku-postbuild": "npm install 'kaizhu256/node-utility2#alpha' && utility2 shRun shDeployHeroku",
        "postinstall": "if [ -f lib.swagger-ui-lite.npm-scripts.sh ]; then ./lib.swagger-ui-lite.npm-scripts.sh postinstall; fi",
        "start": "export PORT=${PORT:-8080} && export npm_config_mode_auto_restart=1 && utility2 shRun shIstanbulCover test.js",
        "test": "export PORT=$(utility2 shServerPortRandom) && utility2 test test.js"
    },
    "version": "2017.2.2"
}
```



# changelog of last 50 commits
[![screen-capture](https://kaizhu256.github.io/node-swagger-ui-lite/build/screen-capture.gitLog.svg)](https://github.com/kaizhu256/node-swagger-ui-lite/commits)



# internal build-script
- build.sh
```shell
# build.sh

# this shell script will run the build for this package

shBuild() {(set -e
# this function will run the main build
    # init env
    . node_modules/.bin/utility2 && shInit
    # cleanup github-gh-pages dir
    # export BUILD_GITHUB_UPLOAD_PRE_SH="rm -fr build"
    # init github-gh-pages commit-limit
    export COMMIT_LIMIT=16
    # if branch is alpha, beta, or master, then run default build
    if [ "$CI_BRANCH" = alpha ] ||
        [ "$CI_BRANCH" = beta ] ||
        [ "$CI_BRANCH" = master ]
    then
        shBuildCiDefault
    fi
)}

shBuildCiTestPost() {(set -e
# this function will run the post-test build
    # if running legacy-node, then return
    [ "$(node --version)" \< "v7.0" ] && return || true
    export NODE_ENV=production
    # deploy app to gh-pages
    (export MODE_BUILD=deployGithub &&
        shDeployGithub) || return $?
    # deploy app to heroku
    (export MODE_BUILD=deployHeroku &&
        shDeployHeroku) || return $?
)}

shBuildCiTestPre() {(set -e
# this function will run the pre-test build
    # test example.js
    (export MODE_BUILD=testExampleJs &&
        shRunScreenCapture shReadmeTestExampleJs) || return $?
    # test published-package
    (export MODE_BUILD=npmTestPublished &&
        shRunScreenCapture shNpmTestPublished) || return $?
)}

shBuild
```
